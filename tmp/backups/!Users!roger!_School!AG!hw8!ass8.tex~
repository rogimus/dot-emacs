\documentclass[10pt]{amsart}

\usepackage{amsmath}
%\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
%\usepackage{mathrsfs}
\usepackage{tikz-cd}
\usepackage{hyperref}
\usepackage[shortlabels]{enumitem}
\usepackage{upgreek}
% microtype performs a number of micro typesetting adjustments such as margin
% kerning and character protrusion. Very cool
% \usepackage[protrusion=true,kerning=true,spacing=true,tracking=true]{microtype}
\usepackage{microtype}
\usepackage[english]{babel}
% hehe heart emoji as QED symbol
\usepackage{graphicx,txfonts}
\newcommand{\heart}{\ensuremath\varheartsuit}
\renewcommand{\qedsymbol}{\hfill{\Large\heart}}
% spacing
\linespread{1.3}
\usepackage[b5paper,top=0.7in, bottom=0.7in, left=0.6in, right=0.6in]{geometry}

% \usepackage[margin=1in]{geometry}

\parindent 0pt
\parskip 10pt

\usepackage{fancyhdr}
\pagestyle{fancy}
% \fancyhead{}
% \fancyfoot{}
% \fancyhead[R]{\thepage}
% \fancyhead[L]{\nouppercase\leftmark}
% \renewcommand{\headrulewidth}{0.4pt}
% \renewcommand{\footrulewidth}{0pt}
% \usepackage{xpatch}
% \makeatletter
% \xapptocmd{\@sect}{\csname #1mark\endcsname{#7}}{}{}
% \makeatother
% \renewcommand{\sectionmark}[1]{\markboth{\thesection.\ #1}{}}

% font stuff
\usepackage[T1]{fontenc}
\usepackage{kpfonts}

\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
\DeclareMathAlphabet{\mathbb}{U}{bbold}{m}{n}
% headings
\newcommand{\colonafter}[1]{#1:\,\,}
\usepackage{titlesec}
\titleformat{\title}{\center\Huge\rmfamily}{\thesection}{1em}{}
\titleformat{\section}{\center\large\rmfamily}{\thesection.}{0.5em}{}{}
\titleformat{\subsection}[runin]{\normalsize\bfseries}{\thesubsection.}{0.5em}{\colonafter}{}
% \titleformat*{\subsubsection}{\normalsize\rmffamily}

\setcounter{tocdepth}{1}

%%%%%%%%%%%%
% Theorems %
%%%%%%%%%%%%

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition} 
\newtheorem{notation}[theorem]{Notation} 
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{construction}[theorem]{Construction}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{warning}[theorem]{Warning}
\newtheorem{remark}[theorem]{Remark}
\newtheorem*{answer}{Answer}



%%%%%%%%%%%%%
% Cat Stuff %
%%%%%%%%%%%%%

\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\op}{op}
\DeclareMathOperator{\colim}{colim}
%\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\im}{im}
%\DeclareMathOperator{\ker}{ker}
%\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\Fun}{Fun}




%%%%%%%%%%%%%
% Rings/bbX %
%%%%%%%%%%%%%

\newcommand{\bbZ}{\mathbb Z}
\newcommand{\bbN}{\mathbb N}
\newcommand{\bbC}{\mathbb C}
\newcommand{\bbF}{\mathbb F}
\newcommand{\bbR}{\mathbb R}
\newcommand{\bbQ}{\mathbb Q}
\newcommand{\bbP}{\mathbb P}
\newcommand{\bbA}{\mathbb A}
\newcommand{\bbH}{\mathbb H}




%%%%%%%%%%%%%%%%%%%%%%%
% Specific categories %
%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Ring}{\mathrm{Ring}}
\newcommand{\Alg}{\mathrm{Alg}}
\newcommand{\Set}{\mathrm{Set}}
\newcommand{\sSet}{\mathrm{sSet}}
% \newcommand{\Tops}{\text{\rmfamily \textbf{Top}}}
\newcommand{\Tops}{\mathcal{T}}
\newcommand{\Mod}{\mathrm{Mod}}
\newcommand{\Ab}{\mathrm{Ab}}
\newcommand{\Grp}{\mathrm{Grp}}
\newcommand{\Vect}{\mathrm{Vect}}
\newcommand{\Shv}{\mathrm{Shv}}




%%%%%%%%%%%%
% topology %
%%%%%%%%%%%%

\newcommand{\RP}{\mathbb{R} P}
\newcommand{\CP}{\mathbb{C} P}
\DeclareMathOperator{\Map}{Map}
\DeclareMathOperator{\pt}{pt}
\newcommand{\MU}{\mathrm{MU}}
\newcommand{\BP}{\mathrm{BP}}




%%%%%%
% AG %
%%%%%%

\newcommand{\Sch}{\mathrm{Sch}}
\newcommand{\Aff}{\mathrm{Aff}}
%\newcommand{\Spec}{\mathrm{Spec}\,}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\Spf}{Spf}
\DeclareMathOperator{\Pic}{Pic}




%%%%%%%%%%%%%%%%%%%%%%%
% Homological Algebra %
%%%%%%%%%%%%%%%%%%%%%%%

\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Ext}{Ext}




%%%%%%%%%%%%%%%%%%
% Random cal/scr %
%%%%%%%%%%%%%%%%%%

\newcommand{\calV}{\mathcal{V}}
\newcommand{\calC}{\mathcal{C}}
\newcommand{\calG}{\mathcal{G}}
\newcommand{\calJ}{\mathcal{J}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\calS}{\mathcal{S}}
\newcommand{\calT}{\mathcal{T}}
\newcommand{\calO}{\mathcal{O}}
\newcommand{\calM}{\mathcal{M}}
\newcommand{\calL}{\mathcal L}
\newcommand{\frakX}{\mathfrak{X}}
\newcommand{\fraka}{\mathfrak{a}}
\newcommand{\frakp}{\mathfrak{p}}
\newcommand{\scrI}{\mathscr{I}}
\newcommand{\scrG}{\mathscr{G}}
\newcommand{\scrF}{\mathscr{F}}
\newcommand{\scrE}{\mathscr{E}}
\newcommand{\scrH}{\mathscr{H}}
\newcommand{\calI}{\mathcal{I}}
\newcommand{\scrHom}{\,\scrH\!\!\textrm{om}}




\title{Assignment 7}
\author{Roger Murray}
\date{\today}

\begin{document}
\maketitle

\subsection*{Question 2}
(Hartshorne II.4.1.) Show that a finite morphism is proper.  (As a
side remark, a quasi-finite, proper morphism is finite, but this is
harder to prove.)

\begin{proof}
  Let $f:X\to Y$ be a finite morphism. We wish to show that it is
  separated, of finite type, and universally closed. We immediately
  get finite type for free. Next observe that finite morphisms, or
  more generally affine morphisms, are separated. (This follows from
  [the non-noetherian version of] Cor II.4.6.f and the fact that
  morphisms of affine schemes are always separated.) The last thing to
  check is universally closed.  We can reduce to the case where
  $Y=\Spec B$ and $X=\Spec A$ where $A$ is a $B$-algebra which is
  finitely generated as a $B$-module. We know that finite morphisms
  are closed since if $f$ is finite then closed subsets of $X$
  correspond to $\Spec A/I$ and $(f^\sharp)^{-1}(I)$ and an ideal $J$
  of $B$. Finally finiteness of a morphism is stable under
  base-change.
\end{proof}

\subsection*{Question 3}
\begin{enumerate}[(a),leftmargin=0.24in,topsep=-.1in]
\item Let $f:X\to Y$ be a morphism of schemes over $S$ such that $X$
  is universally closed over $S$. Prove that:
  \begin{enumerate}[(1)]
  \item If $Y$ is separated over $S$, then $f(X) \subset Y$ is closed.
  \item If $f$ is surjective, then $Y$ is universally closed over $S$.
  \end{enumerate}
\item Solve Hartshorne II.4.4. [I found the Hint misleading — you may
  agree or disagree.] Which of the assumptions did you need?
  
  \noindent
  Let $f:X\to Y$ be a morphism of separated schemes of finite type
  over a noetherian scheme $S$. Let $Z$ be a closed subscheme of $X$
  which is proper over $S$. Show that $f(Z)$ is closed in $Y$, and
  that $f(Z)$ with its image subscheme structure (Ex 3.11d) is proper
  over $S$. We refer to this result by saying that ``the image of a
  proper scheme is proper''. [\emph{Hint}: Factor $f$ into the graph
  morphism $\Gamma_f:X\to X\times_S Y$ followed by the second
  projection $p_2$, and show that $\Gamma_f$ is a closed immersion.]
\end{enumerate}

\begin{proof}
  \emph{(a.1)} \, By (the same proof as) II.4.8.e, we have that
  $f:X\to Y$ is universally closed. Thus it is also closed. Thus
  $f(X)$ is closed since it is the image of something closed.

  \emph{(a.2)} \,Given $Z\to S$ consider the fibre products
  $X^\prime=X\times_S Z$, and $Y^\prime = Y\times_S Z$. Since $f$ is
  universally closed, the given map $g:X^\prime\to Z$ is closed. Note
  also that it factors through a map $f^\prime: X^\prime\to Y^\prime$
  using the universal property of $Y^\prime$ and an obvious
  diagram. Given a closed subset $V_Y\subset Y^\prime$ we get a closed
  subset $(f^\prime)^{-1}(V_Y):=V_X$. By closedness of $g$ this maps
  to a closed subset $V\subset Z$. All that is left to check is that
  $f^\prime(V_X)$ is the whole of $V_Y$. This follows immediately by
  surjectivity of $f$. (You can draw an easy diagram to check this.)

  \emph{(b)}\, Since $Z$ is proper over $S$, it is \emph{a priori}
  universally closed over $S$. Thus by (a.1) $f(Z)$ is closed in
  $Y$. Next we show that $f(Z)\to S$ is proper, i.e. separated, finite
  type, and universally closed. Separatedness follows by a corollary
  from class which stated that if $Y$ is separated over $S$ and
  $f:X\to Y$ is an morphism of $S$-schemes, then $X$ is separated over
  $S$.

  For finite type observe that by our previous homework, closed
  immersions are finite type, and finite typeness is closed under
  composition.

  Finally for universally closedness observe that $Z/S$ is universally
  closed (since proper), and thus, since $Z\to f(Z)$ is surjective, by
  \emph{(a.2)} we have that $f(Z)/S$ is universally closed.
\end{proof}

\subsection*{Question 5}
Let $k$ be a field, $X=\Spec k[x]$, $Y=\Spec[y]$, and
$Z=\Spec k[x,y]/(xy)$.

\begin{enumerate}[(a),leftmargin=0.24in,topsep=-.1in]
\item Describe two closed immersions $\iota_X: X \to Z$ and
  $\iota_Y : Y \to Z$ , whose images cover all of $Z$.
\item Describe the ideal sheaves $\calI_X$ and $\calI_Y$ corresponding
  to these closed immersions. Show that they are not locally free.
\item Describe $\iota_X^* \calI_X$ and $\iota_Y^*\calI_Y$ .
\item The closed immersions $\iota_X$ and $\iota_Y$ induce surjections
  $\calO_Z \to (\iota_X)_* \calO_X$ and
  $\calO_Z \to (\iota_X)_* \calO_Y$. Show that there is an exact
  sequence of $\calO_Z$-modules
  \[ 0\to \calO_Z \to (\iota_X)_{*} \calO_X\oplus (\iota_Y)_*
    \calO_Y\to (\iota_W)_* \calO_W, \] for a scheme $W$ with a closed
  immersion $\iota_W : W \to Z$.
\end{enumerate}
\begin{proof}
  \emph{(a)}\, Let $\iota_X$ be the obvious map $X\to V(y)$ and let
  $\iota_Y$ be the obvious map $Y\to V(x)$. Then
  $V(y)\cup V(x)=V(xy)=V(0)=Z$.

  \emph{(b)}\, $\calI_X$ is $\widetilde{(y)}$ and $\calI_Y$ is
  $\widetilde{(x)}$. Let $U=Z\setminus V(x,y)$. Then
  $\calI_X(U)\cong \widetilde{(y)}$ still which is not free as a
  $k[x,y]_{(x,y)}/(xy)$-module. Similarly for $\calI_Y$.

  \emph{(c)}\, By Prop II.5.2.e,\,\,
  $\iota_X^*\calI_X\cong
  \big((y)\otimes_{k[x,y]/(xy)}k[x]\big){\widetilde{\phantom{ttt}}}$. But
  $(y)\otimes_{k[x,y]/(xy)}k[x]\cong (y)$ since $y\otimes x$ is
  zero. Similarly for $\iota_Y^* \calI_Y$.

  \emph{(d)} Looking at global sections we have an exact sequence
  $0\to k[x,y]/(xy)\to k[x]\oplus k[y]$. The cokernel of this map is
  the $k$-module $\{\,(a,b)\,\,|\,\,a\neq b\in k\}$ which is
  isomorphic to $k^\times$ as $\{(a-b,0)\}$. Consider $W:=
  V(x-y)\subset Z$. Then global sections of $(\iota_W)_* \calO_Z$ is
  $k$, and it fits perfectly into our exact sequence. Note however
  that the last map isn't surjective since we miss $0\in k$.
\end{proof}

\subsection*{Question 6}
(Compare to Hartshorne Exercise II.5.1. This exercise is long — feel
free pick and choose, while trying to get some practice of tensor,
sheaf-Hom and the direct image/inverse image adjunction.) Given a
ringed space $(X,\calO_X)$ and a sheaf of $\calO_X$-modules $\scrE$ on
$X$ we define the dual of $\scrE$ to be the sheaf
$\scrE^\vee := \scrHom (\scrE,\calO_X)$.
\begin{enumerate}[(a),leftmargin=0.24in,topsep=-.1in]
\item Let $(X, \calO_X)$ be a ringed space, and let $\scrE$ , $\scrF$
  , and $\scrG$ be sheaves of $\calO_X$-modules. Then there is a
  natural isomorphism:
  \[ \scrHom(\scrE\otimes \scrF,\scrG)\cong \scrHom (\scrE,
    \scrHom(\scrF, \scrG)). \]
\item Let $f: (X,\calO_X) \to (Y,\calO_Y)$ be a morphism of ringed
  spaces, and let $\scrF$ be a sheaf of $\calO_X$-modules and let
  $scrG$ be a sheaf of $\calO_Y$-modules. Prove that there is a
  natural isomorphism:
  \[ f_*\scrHom(f^*\scrG,\scrF) \cong \scrHom(\scrG,f_*\scrF).\]

\item Let $f:(X,\calO_X)\to (Y,\calO_Y)$ be a morphism of ringed
  spaces, and let $\scrE$,$\scrF$ be sheaves of $\calO_Y$-modules.
  Prove that there is a natural isomorphism:
  \[ f^* ( \scrE \otimes \scrF ) \cong f^* \scrE \otimes f^* \scrF. \]

\item Let $f: (X,\calO_X) \to (Y,\calO_Y)$ be a morphism of ringed
  spaces, and let E be a sheaf of $\calO_Y$-modules. Show that there
  is a natural morphism $f^*(\scrE^\vee) \to (f^*\scrE)^\vee$.  Prove
  that this is an isomorphism when $\scrE$ is locally free of finite
  rank.

\item Let $(X,\calO_X)$ be a ringed space, and let $\scrE$ be an
  $\calO_X$-module. Prove that there is a natural map
  $\scrE\to (\scrE^\vee)^\vee$, which is an isomorphism when $\scrE$
  is locally free of finite rank.

\item Let $(X,\calO_X)$ be a ringed space, and let $\scrE$ and $\scrF$
  be $\calO_X$-modules. Prove that there is a natural morphism
  \[ \scrE^\vee\otimes \scrF\to \scrHom(\scrE,\scrF) \] which is an
  isomorphism when $\scrE$ is locally free of finite rank.

\item Let $f:(X,\calO_X)\to(Y,\calO_Y)$ be a morphism of ringed
  spaces,and let $\scrF$ be an $\calO_X$-module and $\scrE$ be an
  $\calO_Y$-module. Construct a natural “projection” morphism
  \[f_*\scrF\otimes \scr E\to f_*(\scrF\otimes f^*\scrE),\] which is
  an isomorphism when $\scrE$ is locally free of finite rank.

\end{enumerate}

\begin{proof}
  \emph{(a)}\, On an open neighbourhood $U\subset X$ we have
  $\Hom_{\calO_X|_U}(\scrE|_U\otimes_{\calO_X|_U}\scrF|_U,\scrG|_U)$. I
  wanna say just use global sections of this (i.e. evaluate at $U$)
  and use the usual tensor-hom adjunction of modules? Or check on the
  level of stalks, and use the tensor-hom adjunction of modules. These
  come from a global morphism (the tensor-hom adjunction for global
  sections).
  
\end{proof}
\end{document}